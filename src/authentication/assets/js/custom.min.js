var form_name="",phoneid="";function forgotpass_hook(e){var i={container:"forgotpassword-container",onSuccess:function(i){var o=setInterval(function(){void 0!==LRObject.options&&(clearInterval(o),void 0!==i.Data?ciamfunctions.message("OTP has been sent to your Phone No.","#forgotpasswordmessage","success"):"resetPassword"==form_name?(ciamfunctions.message("Password has been set successfully.","#forgotpasswordmessage","success"),window.setTimeout(function(){window.location.href=e},3e3)):(ciamfunctions.message("Password change link sent to your email id","#forgotpasswordmessage","success"),window.location.href=e),jQuery('input[type="text"]').val(""),jQuery('input[type="password"]').val(""))},1)},onError:function(e){jQuery('input[type="text"]').val(""),jQuery('input[type="password"]').val(""),ciamfunctions.message(e[0].Description,"#forgotpasswordmessage","error"),jQuery("#ciam-forgotpassword-emailid").val(""),jQuery("#ciam_loading_gif").hide()}};i.verificationUrl=window.location;var o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.$hooks.register("startProcess",function(e){"resetPassword"==e&&(form_name=e),jQuery("#ciam_loading_gif").show()}),LRObject.init("forgotPassword",i))},1)}function optionalTwoFA(){var e={container:"authentication-container",onSuccess:function(e){e.AccountSid&&(jQuery("#authentication-container").after("<span id='authdiv_success'></span>"),ciamfunctions.message("An OTP has been sent.","#authdiv_success","success")),1==e.IsDeleted?(jQuery("#authentication-container").after("<span id='authdiv_success'>Two Factor Authenticaion is disabled</span>"),setTimeout(function(){location.reload()},2e3)):void 0!==e.Uid&&(jQuery("#authentication-container").after("<span id='authdiv_success'>Two Factor Authenticaion is enabled</span>"),setTimeout(function(){location.reload()},2e3))},onError:function(e){jQuery("#authentication-container").after("<span id='authdiv_error'>"+e[0].Message+"</span>"),setTimeout(function(){location.reload()},2e3)}},i=setInterval(function(){void 0!==LRObject.options&&""!=LRObject.options&&(clearInterval(i),!0!==LRObject.options.twoFactorAuthentication&&!0!==LRObject.options.optionalTwoFactorAuthentication||(jQuery(".profiletwofactorauthentication").show(),LRObject.init("createTwoFactorAuthentication",e)))},1)}function updatephoneonprofile(){var e={container:"updatephone-container",onSuccess:function(e){void 0!==e.Data?(jQuery("#updatephone-container").after("<span id='authphonediv_success'></span>"),ciamfunctions.message("An OTP has been sent.","#authphonediv_success","success")):e.access_token&&(jQuery("#updatephone-container").after("<span id='authphonediv_success'>Phone number updated successfully</span>"),jQuery("#loginradius-submit-update").prop("disabled",!0),setTimeout(function(){location.reload()},800))},onError:function(e){jQuery("#updatephone-container").after("<span id='authdiv_error'>"+e[0].Message+"</span>"),jQuery("#loginradius-submit-update").prop("disabled",!0),setTimeout(function(){location.reload()},800)}},i=setInterval(function(){void 0!==LRObject.options&&""!=LRObject.options&&(clearInterval(i),!0===LRObject.options.phoneLogin&&(jQuery(".profilephoneuupdate").show(),jQuery(".phoneid_table").show(),LRObject.init("updatePhone",e),"--"==phoneid&&jQuery("#updatephone-container #loginradius-submit-update").val("Add")))},1)}function login_hook(e){var i={onSuccess:function(i){if(1==i.IsPosted)0!==jQuery("#loginradius-login-username").length?ciamfunctions.message("An email has been sent to "+jQuery("#loginradius-login-username").val()+".","#loginmessage","success"):0!==jQuery("#loginradius-login-emailid").length&&ciamfunctions.message("An email has been sent to "+jQuery("#loginradius-login-emailid").val()+".","#loginmessage","success"),setTimeout(function(){ciamfunctions.redirect(i.access_token,"token",e)},500);else if(void 0!==i.AccountSid)ciamfunctions.message("An OTP has been sent.","#loginmessage","success");else if(i.access_token){sessionStorage.access_token=i.access_token;var o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.$hooks.register("endProcess",function(e){jQuery("#ciam_loading_gif").show()}))},1);ciamfunctions.redirect(i.access_token,"token",e)}},onError:function(e){jQuery(window).scrollTop(0),ciamfunctions.message(e[0].Description,"#loginmessage","error")},container:"login-container"},o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.init("login",i))},1)}function oneclicksignin(){var e={onSuccess:function(e){e.access_token&&ciamfunctions.redirect(e.access_token,"token","")},onError:function(e){ciamfunctions.message(e[0].Description,"#loginmessage","error")}},i=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(i),LRObject.init("instantLinkLogin",e))},1)}function registration_hook(e){var i={onSuccess:function(i){jQuery("input").val(""),jQuery("textarea").val(""),jQuery("select").val(""),jQuery("#loginradius-submit-register").val("Register"),jQuery("#loginradius-submit-verify").val("Verify"),jQuery("#loginradius-button-resendotp").val("Resend OTP"),jQuery("#ciam_loading_gif").hide();var o=setInterval(function(){if(void 0!==LRObject.options){if(clearInterval(o),void 0!==LRObject.options.optionalEmailVerification)var n=LRObject.options.optionalEmailVerification;else n="";if(void 0!==LRObject.options.disabledEmailVerification)var t=LRObject.options.disabledEmailVerification;else t="";i.IsPosted&&void 0===i.Data?(void 0!==n&&!0===n||void 0!==t&&!0===t||ciamfunctions.message("Verification Link has been sent to your email address","#registration_message","success"),setTimeout(function(){window.location.href=e},2e3)):i.access_token?ciamfunctions.redirect(i.access_token,"token",e):i.IsPosted&&void 0!==i.Data?(jQuery("#loginradius-button-resendotp").blur(),ciamfunctions.message("An OTP has been sent.","#registration_message","success")):(ciamfunctions.message("Thanks for getting register","#registration_message","success"),setTimeout(function(){window.location.href=e},2e3)),jQuery(window).scrollTop(0)}},1)},onError:function(e){jQuery("input").val(""),jQuery("textarea").val(""),jQuery("select").val(""),jQuery("#loginradius-submit-register").val("Register"),jQuery("#loginradius-submit-verify").val("Verify"),jQuery("#loginradius-button-resendotp").val("Resend OTP"),jQuery(window).scrollTop(0),console.log("errors[0].Description : "+e[0].Description),ciamfunctions.message(e[0].Description,"#registration_message","error"),jQuery("#ciam_loading_gif").hide()},container:"registration-container"},o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.init("registration",i))},1)}function emailverification(e){var i={onSuccess:function(i){i.access_token?ciamfunctions.redirect(i.access_token,"token",e):(jQuery("#ciam_loading_gif").hide(),ciamfunctions.message("Your Email has been verified","#loginmessage","success"),setTimeout(function(){window.location.href=e},3e3))},onError:function(i){ciamfunctions.message(i[0].Description,"#loginmessage","error"),jQuery("#ciam_loading_gif").hide(),setTimeout(function(){window.location.href=e},3e3)}},o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.init("verifyEmail",i))},1)}function social(e){var i={templateName:"loginradiuscustom_tmpl"},o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.customInterface(".interfacecontainerdiv",i))},1),n={onSuccess:function(i){1==i.IsPosted&&void 0===i.Data.AccountSid?(ciamfunctions.message("Please verify you email","#loginmessage","success"),setTimeout(function(){location.reload()},5e3)):i.access_token?ciamfunctions.redirect(i.access_token,"token",e):void 0!==i.Data.AccountSid&&ciamfunctions.message("An OTP has been sent.","#loginmessage","success")},onError:function(e){ciamfunctions.message(e[0].Description,"#loginmessage","error")},container:"sociallogin-container"},t=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(t),LRObject.init("socialLogin",n))},1)}function changepasswordform(){var e={container:"changepassword-container",onSuccess:function(e){jQuery(".popup-txt").after('<span id="password_msg_success">Password updated successfully</span>'),jQuery("#loginradius-submit-submit").attr("disabled","disabled"),setTimeout(function(){location.reload()},5e3)},onError:function(e){jQuery(".popup-txt").after('<span id="password_msg_error">'+e[0].Description+"</span>"),jQuery("#loginradius-submit-submit").attr("disabled","disabled"),setTimeout(function(){location.reload()},5e3)}},i=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(i),LRObject.init("changePassword",e))},1);jQuery(document).ready(function(){jQuery("#open_password_popup").on("click",function(){jQuery(".popup-outer-password").fadeIn("slow")}),jQuery("#close_password_popup").on("click",function(){jQuery(".popup-outer-password").fadeOut("slow")}),jQuery("#loginradius-submit-send").on("click",function(){jQuery(".popup-outer-password").fadeOut("slow")})})}function generatebackupcodebutton(e){jQuery("#password").after('<tr id="backupcode" class="user-pass1-wrap"><th><span>Backup code list</span></th><td><span class="get-backup-msg" style="display:none;">If you lose your phone or can\'t receive codes via SMS, voice call or Google Authenticator, you can use backup codes to sign in. So please save these backup codes somewhere.</span><span class="reset-backup-msg" style="display:none;">The two factor authentication backup code is already generated, please reset your two factor authentication backup code.</span><a href="javascript:void(0);" id="backupcode" class="ciam-password-button button" onclick="generatebackupcode(\''+e+'\')" >Reset backup Code</a></td></tr><tr id="codelist"></tr>'),jQuery("#ciam_loading_gif").show();var i='<td colspan="2"><div style="width:100%;">',o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.api.getBackupCode(e,function(e){jQuery.each(e.BackUpCodes,function(e,o){i+='<div class="backupcode-div"><input class="backupcode-width" id="\''+o+"'\" onClick=\"copyToClipboard('"+o+'\');this.select();" type="text" readonly value="'+o+'" /></div>'}),jQuery(".get-backup-msg").css("display","block"),jQuery(".reset-backup-msg").css("display","none"),i+="</div><div><span onclick='copybackupcode()' id='copybackupcode'>Copy</span> <span class='copyMessage'>Copied!</span></div></td>",jQuery("#codelist").html(i),jQuery("#ciam_loading_gif").hide()},function(e){jQuery(".reset-backup-msg").css("display","block")}))},1)}function generatebackupcode(e){jQuery("#ciam_loading_gif").show();var i='<td colspan="2"><div style="width:100%;">',o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.api.resetBackupCode(e,function(e){jQuery.each(e.BackUpCodes,function(e,o){i+='<div class="backupcode-div"><input class="backupcode-width" id="\''+o+"'\" onClick=\"copyToClipboard('"+o+'\');this.select();" type="text" readonly value="'+o+'" /></div>'}),i+="</div><div><span onclick='copybackupcode()' id='copybackupcode'>Copy</span> <span class='copyMessage'>Copied!</span></div></td>",jQuery("#codelist").html(i),jQuery("#ciam_loading_gif").hide()},function(e){}))},1)}function copyToClipboard(e){var i=document.createElement("input");i.style="position: absolute; left: -1000px; top: -1000px",i.value=e,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}function getbackupcode(e){var i=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(i),LRObject.api.getBackupCode(e,function(e){jQuery.each(e.BackUpCodes,function(e,i){})},function(e){}))},1)}function accountlinking(){var e={container:"interfacecontainerdiv",templateName:"loginradiuscustom_tmpl_link",onSuccess:function(e){ciamfunctions.message("Account linked successfully","#social-msg","success"),setTimeout(function(){location.reload()},1e3)},onError:function(e){"The LoginRadius access token has expired, please request a new token from LoginRadius API."===e[0].Description&&ciamfunctions.message("Your LoginRadius access token has expired.Please login again to enjoy account linking functionality.","#social-msg","error"),"This Uid have only traditional unverified account"!==e[0].Description&&"The LoginRadius access token has expired, please request a new token from LoginRadius API."!==e[0].Description&&ciamfunctions.message(e[0].Description,"#social-msg","error")}},i=setInterval(function(){void 0!==LRObject.options&&""!=LRObject.options&&(clearInterval(i),!0===LRObject.options.disabledEmailVerification&&!0!==LRObject.options.phoneLogin||LRObject.init("linkAccount",e))},1)}function accountunlinking(){var e={onSuccess:function(e){ciamfunctions.message("Account unlinked successfully","#social-msg","success"),setTimeout(function(){location.reload()},1e3)},onError:function(e){ciamfunctions.message(e[0].Description,"#social-msg","error")}},i=setInterval(function(){void 0!==LRObject.options&&""!=LRObject.options&&(clearInterval(i),!0===LRObject.options.disabledEmailVerification&&!0!==LRObject.options.phoneLogin||LRObject.init("unLinkAccount",e))},1)}function changepassword(e){var i={container:"resetpassword-container",onSuccess:function(i){ciamfunctions.message("Password change successfully.","#resetpassword","success"),jQuery("#ciam_loading_gif").hide(),window.location.href=e},onError:function(e){ciamfunctions.message(e[0].Description,"#resetpassword","error"),jQuery("#ciam-resetpassword-password,#ciam-resetpassword-confirmpassword").val(""),jQuery("#ciam_loading_gif").hide()}},o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.init("resetPassword",i))},1)}function loadingimg(){var e=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(e),LRObject.$hooks.register("startProcess",function(e){jQuery("#ciam_loading_gif").show()}),LRObject.$hooks.register("endProcess",function(e){"resendOTP"===e&&jQuery("#login-container").length>0&&ciamfunctions.message("An OTP has been sent.","#loginmessage","success")}),LRObject.$hooks.register("afterFormRender",function(e){"socialRegistration"===e&&(show_birthdate_date_block(),jQuery("#registration-container,#interfacecontainerdiv,#login-container").hide(),jQuery("#ciam_loading_gif").hide()),"twofaotp"!=e&&"otp"!=e&&"loginRequiredFieldsUpdate"!=e&&"showQRcode"!=e||(jQuery("#interfacecontainerdiv").hide(),jQuery("#ciam_loading_gif").hide()),"otp"==e&&ciamfunctions.message("An OTP has been sent.","#registration_message","success"),"twofaotp"==e&&ciamfunctions.message("An OTP has been sent.","#loginmessage","success"),"registration"===e&&show_birthdate_date_block(),"login"===e&&show_birthdate_date_block()}))},1)}jQuery(document).ready(function(){1==jQuery("#ciam-oneclicksignin").prop("checked")&&jQuery("#hideoneclickdiv").show(),jQuery("#custom-oneclick-template").prop("checked")&&jQuery("#hideoneclickdiv").show(),jQuery("#ciam-oneclicksignin").on("click",function(){!0===jQuery(this).prop("checked")?jQuery("#hideoneclickdiv").show():jQuery("#hideoneclickdiv").hide()}),1==jQuery("#ciam-otpsignin").prop("checked")&&jQuery("#hideotpdiv").show(),jQuery("#custom-otp-template").prop("checked")&&jQuery("#hideotpdiv").show(),jQuery("#ciam-otpsignin").on("click",function(){!0===jQuery(this).prop("checked")?jQuery("#hideotpdiv").show():jQuery("#hideotpdiv").hide()})}),jQuery(document).ready(function(){jQuery("#submit").on("click",function(){if(jQuery("#loginradius-changepassword-newpassword").val()!==jQuery("#loginradius-changepassword-confirmnewpassword").val())return ciamfunctions.message("New Password must match with Confirm Password!","#msg","error"),!1})});var ciamfunctions={message:function(e,i,o){ciamautohidetime>0?"error"==o?jQuery(i).text(e).css("color","#FF0000").show().fadeOut(1e3*ciamautohidetime):jQuery(i).text(e).css("color","#008000").show().fadeOut(1e3*ciamautohidetime):"error"==o?jQuery(i).text(e).css("color","#FF0000").show():jQuery(i).text(e).css("color","#008000").show()},redirect:function(e,i,o){var n=i||"token",t=document.createElement("form");t.action=window.location.href,t.method="POST";var a=document.createElement("input");a.type="hidden",a.value=e,a.name=n,t.appendChild(a),document.body.appendChild(t),t.submit()}};function showAndHideCustomDiv(e){"samepage"===e||"homepage"===e||"dashboard"===e||"prevpage"===e?jQuery("#customRedirectUrlField").hide():jQuery("#customRedirectUrlField").show()}function additionalemailform(e,o,n,t){if(1==n){jQuery("#email").val(e);var a='<a id="open" class="open button ciam-email-button ciam-addemail-button" href="javascript:void(0);">Add Email</a><div class="popup-outer" style="display:none;"><span id="close"><img src="'+t+'" alt="close" /></span><div class="popup-inner"><span class="popup-txt"><h1><strong>Please Enter Email</strong></h1></span><div id="addemail-container"></div></div></div><div id="remove" style="display:none;"><div class="removeemail-container"></div></div><br />'}else a='<a class="remove-popup wp_email open button ciam-email-button ciam_email_0 ciam-removeemail-button" href="javascript:void(0);">Remove</a><div class="remove-popup-outer" style="display:none;"><span class="close-removepopup"><img src="'+t+'" alt="close" /></span><div class="remove-popup-inner"><span class="popup-txt"><h1><strong>Are you sure to remove the mail?</strong></h1></span><span id="email_msg"></span><div class="removeemail-container"></div></div></div>&nbsp;&nbsp;<a id="open" class="open button ciam-email-button ciam-addemail-button" href="javascript:void(0);">Add</a><div class="popup-outer" style="display:none;"><span id="close"><img src="'+t+'" alt="close" /></span><div class="popup-inner"><span class="popup-txt"><h1><strong>Please Enter Email</strong></h1></span><div id="addemail-container"></div></div></div></div><br />';a+="",i=1,jQuery.each(o,function(o,n){n.Value!==e&&(a+='<div class="ciam-email-row"><input type="email" value="'+n.Value+'" readonly="readonly" id="ciam_email_'+i+'" name="ciam_emai" class="ciam-email">&nbsp;<a class="remove-popup wp_email open button ciam-email-button ciam_email_'+i+'" href="javascript:void(0);">Remove</a><div class="remove-popup-outer" style="display:none;"><span class="close-removepopup"><img src="'+t+'" alt="close" /></span><div class="remove-popup-inner"><span class="popup-txt"><h1><strong>Are you sure to remove the mail?</strong></h1></span><span id="email_msg"></span><div class="removeemail-container"></div></div></div></div>'),i++}),jQuery(".user-email-wrap td").append(a);var s={container:"addemail-container",classPrefix:"lremail-",onSuccess:function(e){document.cookie="addemail=Please verify your email",location.reload()},onError:function(e){var i='<div id="ciam-addemail-msg" style="color:#FF0000">'+e[0].Description+"</div>";ciamautohidetime>0?jQuery(i).appendTo(".popup-outer:visible .popup-txt").show().fadeOut(1e3*ciamautohidetime):jQuery(i).appendTo(".popup-outer:visible .popup-txt").show()}},c=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(c),LRObject.init("addEmail",s))},1),r={container:"removeemail-container",onSuccess:function(e){document.cookie="addemail=Email has been removed!",location.reload()},onError:function(e){var i='<div id="ciam-removeemail-msg" style="color:#FF0000">'+e[0].Description+"</div>";ciamautohidetime>0?jQuery(i).appendTo(".remove-popup-outer:visible .popup-txt").show().fadeOut(1e3*ciamautohidetime):jQuery(i).appendTo(".remove-popup-outer:visible .popup-txt").show()}},u=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(u),LRObject.init("removeEmail",r))},1);jQuery(".removeemail").each(function(){jQuery(this).click(function(){jQuery("#loginradius-removeemail-emailid").val(jQuery(this).parent("div").children("input").val())})}),jQuery(document).ready(function(){jQuery("#open").on("click",function(){jQuery(".popup-outer").fadeIn("slow")}),jQuery("#close").on("click",function(){jQuery(".popup-outer").fadeOut("slow")}),jQuery(".remove-popup").on("click",function(){jQuery(".remove-popup-outer").fadeIn("slow")}),jQuery(".close-removepopup").on("click",function(){jQuery(".remove-popup-outer").fadeOut("slow")}),jQuery("#loginradius-submit-send").on("click",function(){jQuery(".popup-outer").fadeOut("slow")})}),jQuery(".wp_email").on("click",function(){var e=jQuery(this).attr("class").split(" ")[4];"ciam_email_0"!==e?jQuery("#loginradius-removeemail-emailid").val(jQuery("#"+e).val()):jQuery("#loginradius-removeemail-emailid").val(jQuery("#email").val())})}function copybackupcode(){var e="",i="";jQuery(".backupcode-div").each(function(){e+=jQuery(this).html()+"\n"}),jQuery(e).each(function(){i+=jQuery(this).val()+"\n"});var o=document.createElement("textarea");o.style="position: absolute; left: -1000px; top: -1000px",o.value=i,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),jQuery(".copyMessage").css("color","#008000").show(),setTimeout(removeCodeCss,5e3)}function removeCodeCss(){jQuery(".code-list").find("span").removeAttr("style"),jQuery(".copyMessage").hide()}function show_birthdate_date_block(){var e=(new Date).getFullYear(),i=e-100;jQuery("body").on("focus",".loginradius-birthdate",function(){jQuery(".loginradius-birthdate").datepicker({dateFormat:"mm-dd-yy",maxDate:new Date,minDate:"-100y",changeMonth:!0,changeYear:!0,yearRange:i+":"+e})})}jQuery(document).ready(function(e){function i(i,o){i.is(":checked")?e(o).hide():e(o).show()}showAndHideCustomDiv(jQuery('input:radio[name="ciam_authentication_settings[after_login_redirect]"]:checked').val()),jQuery('input:radio[name="ciam_authentication_settings[after_login_redirect]"]').change(function(){showAndHideCustomDiv(jQuery(this).val())}),e(".ciam-options-tab-btns li").click(function(){var i=e(this).attr("data-tab");e(".ciam-options-tab-btns li").removeClass("ciam-active"),e(".ciam-tab-frame").removeClass("ciam-active"),e(this).addClass("ciam-active"),e("#"+i).addClass("ciam-active")}),e("#ciam-ciam_autopage").change(function(){i(e(this),".ciam-custom-page-settings")}),i(e("#ciam-ciam_autopage"),".ciam-custom-page-settings")}),jQuery(document).ready(function(){document.cookie="addemail="});